package com.announcify.api.contact.lookup;

import java.util.LinkedList;

import android.content.Context;
import android.database.Cursor;
import android.provider.ContactsContract.Data;
import android.provider.ContactsContract.CommonDataKinds.GroupMembership;
import android.provider.ContactsContract.CommonDataKinds.StructuredName;
import android.provider.ContactsContract.Groups;

import com.announcify.api.contact.Contact;

public class Group {

    public static void getGroups(final Context context, final Contact contact) {
        Cursor cursor = null;

        try {
            cursor = context.getContentResolver().query(Data.CONTENT_URI, new String[] {GroupMembership.GROUP_ROW_ID}, Data.MIMETYPE + " = ? AND " + GroupMembership.LOOKUP_KEY + " = ?",
                    new String[] {
                    GroupMembership.CONTENT_ITEM_TYPE, contact.getLookupString()
            }, null);

            LinkedList<Long> groups = new LinkedList<Long>();

            while (cursor.moveToNext()) {
                groups.add(cursor.getLong(0));
            }
        } finally {
            if (cursor != null) {
                cursor.close();
            }
        }
    }
}
