package com.announcify.activity.widget;

import greendroid.widget.item.TextItem;
import greendroid.widget.itemview.ItemView;

import java.io.IOException;

import org.xmlpull.v1.XmlPullParser;
import org.xmlpull.v1.XmlPullParserException;

import android.content.Context;
import android.content.res.Resources;
import android.content.res.TypedArray;
import android.util.AttributeSet;
import android.view.ViewGroup;

import com.announcify.R;

public class PluginItem extends TextItem {

	/**
	 * The resource identifier for the drawable.
	 */
	public int drawableId;

	public String action;
	public boolean broadcast;

	public boolean active;

	public PluginItem(final String text, final int drawableId, final int cursorId, final String action, final boolean broadcast) {
		super(text);
		this.drawableId = drawableId;
		this.action = action;
		this.broadcast = broadcast;
	}

	@Override
	public ItemView newView(final Context context, final ViewGroup parent) {
		return createCellFromXml(context, R.layout.list_item_plugin, parent);
	}

	@Override
	public void inflate(final Resources r, final XmlPullParser parser, final AttributeSet attrs) throws XmlPullParserException, IOException {
		super.inflate(r, parser, attrs);

		final TypedArray a = r.obtainAttributes(attrs, R.styleable.DrawableItem);
		drawableId = a.getResourceId(R.styleable.DrawableItem_drawable, 0);
		a.recycle();
	}
}