package com.announcify.api.contact.lookup;

import android.content.Context;
import android.database.Cursor;
import android.net.Uri;
import android.provider.ContactsContract.PhoneLookup;

import com.announcify.api.contact.Contact;

public class Phone {
    public static void getId(Context context, Contact contact) {
        Cursor cursor = null;

        try {
            cursor = context
            .getContentResolver()
            .query(Uri.withAppendedPath(PhoneLookup.CONTENT_FILTER_URI,
                    Uri.encode(contact.getAddress())),
                    new String[] {
                PhoneLookup._ID, PhoneLookup.LOOKUP_KEY
            }, null, null, null);

            if (!cursor.moveToFirst()) return;

            contact.setId(cursor.getInt(cursor.getColumnIndex(PhoneLookup._ID)));
            contact.setLookupString(cursor.getString(cursor.getColumnIndex(PhoneLookup.LOOKUP_KEY)));
        } finally {
            if (cursor != null) {
                cursor.close();
            }
        }
    }

    public static void getNumber(Context context, Contact contact) {
        contact.getId();
    }

    public static void getType(Context context, Contact contact) {
        contact.getId();
    }

    public static void getLabel(Context context, Contact contact) {
        contact.getId();
    }
}