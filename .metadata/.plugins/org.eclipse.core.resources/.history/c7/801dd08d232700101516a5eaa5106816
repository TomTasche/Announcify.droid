package com.announcify.api.contact.lookup;

import android.content.Context;
import android.database.Cursor;
import android.provider.ContactsContract.Data;
import android.provider.ContactsContract.CommonDataKinds.StructuredName;
import android.provider.ContactsContract.Groups;

import com.announcify.api.contact.Contact;

public class Group {

    public static void getGroups(final Context context, final Contact contact) {
        Cursor cursor = null;
        try {
            cursor = context.getContentResolver().query(Data.CONTENT_URI, new String[] {
                StructuredName.DISPLAY_NAME
            }, StructuredName.MIMETYPE + " = ? AND " + StructuredName.LOOKUP_KEY + " = ?",
                    new String[] {
                            StructuredName.CONTENT_ITEM_TYPE, contact.getLookupString()
                    }, null);
            if (!cursor.moveToFirst()) {
                return;
            }

            contact.setFullname(cursor.getString(0));
        } finally {
            if (cursor != null) {
                cursor.close();
            }
        }
    }
}
